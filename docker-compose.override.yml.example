# docker-compose.override.yml
# Ce fichier est automatiquement pris en compte par docker-compose
# Il permet de surcharger la configuration pour le développement

version: '3.8'

services:
  redriva:
    # Pour le développement, construire localement plutôt que d'utiliser l'image du hub
    build: .
    
    # Mode debug activé pour le développement
    environment:
      - FLASK_DEBUG=true
      - GUNICORN_WORKERS=1  # Un seul worker pour debug
    
    # Volumes additionnels pour le développement (hot reload)
    volumes:
      - ./src:/app/src:ro  # Code source en lecture seule pour éviter les modifications accidentelles
    
    # Pour le développement, redémarrer automatiquement en cas de crash
    restart: always

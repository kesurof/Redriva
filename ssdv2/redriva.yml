##################################################
# Redriva - Synchroniseur Real-Debrid
##################################################
# Application de synchronisation des torrents
# Real-Debrid vers base de données locale
##################################################

---
pgrole: 'redriva'
intport: 5000
image: 'ghcr.io/kesurof/redriva:ssdv2'
pg_volumes:
  - "{{ settings.storage }}/docker/{{ lookup('env','USER') }}/{{ pgrole }}/config:/app/config:rw"
  - "{{ settings.storage }}/docker/{{ lookup('env','USER') }}/{{ pgrole }}/config/.env:/app/.env:ro"
  - "{{ settings.storage }}/docker/{{ lookup('env','USER') }}/{{ pgrole }}/data:/app/data:rw"
  - "{{ lookup('env','HOME') }}/scripts/zurg/data/info:/zurg/data/info:ro"
  - "{{ lookup('env','HOME') }}/Medias:/app/medias:rw"
  - "{{ lookup('env','HOME') }}:{{ lookup('env','HOME') }}"
  - "/var/run/docker.sock:/var/run/docker.sock:ro"
  - '/etc/localtime:/etc/localtime:ro'
pg_env:
  PUID: "{{ lookup('env','MYUID') }}"
  PGID: "{{ lookup('env','MYGID') }}"
  TZ: "{{ lookup('env','TZ') }}"
# tags spécifiques à ajouter à la construction du docker
specific_docker_info:
  ports:
    - '5000:5000'
